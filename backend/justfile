dev:
    uv run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

test:
    uv run pytest tests/ -v

lint:
    uv run ruff check app/

fmt:
    uv run ruff format app/

typecheck:
    uv run mypy app/

check: lint fmt typecheck test

docker-build:
    docker build -t cinematch-backend .

docker-run:
    docker run -p 8000:8000 cinematch-backend

# Database migrations
migrate:
    uv run alembic upgrade head

migrate-down:
    uv run alembic downgrade -1

migration-create NAME:
    uv run alembic revision --autogenerate -m "{{NAME}}"

migration-history:
    uv run alembic history --verbose
